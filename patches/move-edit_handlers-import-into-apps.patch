From d5dbb6c78a0ae107deb1ba6041943fa1398c2b17 Mon Sep 17 00:00:00 2001
From: Karl Hobley <karl@torchbox.com>
Date: Wed, 13 Oct 2021 17:35:11 +0100
Subject: [PATCH] Move edit_handlers import into apps

---
 wagtail/core/admin/models.py | 5 -----
 wagtail/core/apps.py         | 6 ++++++
 2 files changed, 6 insertions(+), 5 deletions(-)

diff --git a/wagtail/core/admin/models.py b/wagtail/core/admin/models.py
index 4ceb4eff69..472f8116ae 100644
--- a/wagtail/core/admin/models.py
+++ b/wagtail/core/admin/models.py
@@ -3,11 +3,6 @@ from django.db.models import Count, Model
 from modelcluster.fields import ParentalKey
 from taggit.models import Tag
 
-# The edit_handlers module extends Page with some additional attributes required by
-# wagtail.core.admin (namely, base_form_class and get_edit_handler). Importing this within
-# wagtail.core.admin.models ensures that this happens in advance of running wagtail.core.admin's
-# system checks.
-from wagtail.core.admin import edit_handlers  # NOQA
 from wagtail.core.models import Page
 
 
diff --git a/wagtail/core/apps.py b/wagtail/core/apps.py
index 72bc59c30a..d07f7ac053 100644
--- a/wagtail/core/apps.py
+++ b/wagtail/core/apps.py
@@ -9,6 +9,12 @@ class WagtailCoreAppConfig(AppConfig):
     default_auto_field = 'django.db.models.AutoField'
 
     def ready(self):
+        # The edit_handlers module extends Page with some additional attributes required by
+        # wagtail admin (namely, base_form_class and get_edit_handler). Importing this within
+        # wagtail.core.admin.models ensures that this happens in advance of running wagtail.core.admin's
+        # system checks.
+        from wagtail.core import edit_handlers  # NOQA
+
         from wagtail.core.signal_handlers import register_signal_handlers
         register_signal_handlers()
 
-- 
2.27.0

